CREATE TABLE SPASAVATELJ (
  ID            INT PRIMARY KEY AUTO_INCREMENT,
  IME           VARCHAR(50),
  BROJ_TELEFONA VARCHAR(15),
  SPECIJALNOST  INT,
  ISKUSTVO      INT,
  LOKACIJA_LAT  VARCHAR(20),
  LOKACIJA_LNG  VARCHAR(20),
  AKTIVAN       BOOL,
  USERNAME      VARCHAR(25),
  PWORD         VARCHAR(25),
  FB_TOKEN      VARCHAR(100),
  DEV_TOKEN     VARCHAR(500),
  IS_RESCUER    BOOL
);

CREATE TABLE AKCIJA (
  ID_A          INT PRIMARY KEY AUTO_INCREMENT,
  VODITELJ_BROJ VARCHAR(15),
  LOK_LAT       VARCHAR(20),
  LOK_LNG       VARCHAR(20),
  RADIUS        DOUBLE,
  OPIS          VARCHAR(512),
  AKTIVNA       BOOL,
  LOC_MEETING   VARCHAR(100),
  TIME_MEETING  TIMESTAMP
);

CREATE TABLE SPASAVATELJ_AKCIJA (
  ID_SPASAVATELJ INT,
  ID_AKCIJA      INT,
  PRIHVATIO      BOOL,
  FOREIGN KEY (ID_SPASAVATELJ) REFERENCES PUBLIC.SPASAVATELJ (ID),
  FOREIGN KEY (ID_AKCIJA) REFERENCES PUBLIC.AKCIJA (ID_A)
);

CREATE TABLE USER_LOCATION (
  ID_USER   INT,
  TIMESTAMP BIGINT,
  LOC_LAT   VARCHAR(20),
  LOC_LNG   VARCHAR(20),
  FOREIGN KEY (ID_USER) REFERENCES PUBLIC.SPASAVATELJ (ID),
);

INSERT INTO SPASAVATELJ
VALUES (1, 'Ante Filakovic', '0993246333', 1, 3, '45.815399', '15.966568', TRUE, 'afilakovic', '1234', '123', NULL, TRUE
);

INSERT INTO SPASAVATELJ
VALUES (2, 'Stefano Kliba', '0993246444', 2, 2, '45.815399', '15.966568', FALSE, 'skliba', '1234', '123', 'dW9CyvjxYKw:APA91bHwih4w0oW-DhJhyeiQ7faYbxWzav4AE909OGTUTgzUYQYjwwN_2Tx0xFfHULJPWg-LslQHCK3cr5D4BOcxM3481Cruph74eBhnZhTGS0OD3-eKNC9dZpErsKAqJRaHG3N7C2tx', TRUE);

INSERT INTO SPASAVATELJ
VALUES (3, 'Mak Muftic', '0993246444', 2, 2, '45.815399', '15.966568', TRUE, 'mmuftic', '1234', '123', NULL, TRUE);

INSERT INTO AKCIJA
VALUES (1, '0993246333', '48.815399', '18.966568', 10, 'Super kul akcija, spasili smo 10 ljudi', TRUE, NULL, NULL);

INSERT INTO SPASAVATELJ_AKCIJA
VALUES (1, 1, TRUE);
